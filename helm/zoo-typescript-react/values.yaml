replicaCount: 1

image:
  repository: ghcr.io/intelligent002/zoo/zoo-typescript-react
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8101

env:
  APP_PORT: "8101"
  DEBUG_MODE: "False"
  ENVIRONMENT: "DEVELOPMENT"
  LOG_LEVEL: "DEBUG"
  SERVICE_NAME: "zoo-typescript-react"
  BACKEND_HOSTNAME: "http://public-api.docker.r7g.org/graphql"
  NGINX_PORT: "8102"

# HTTP health checks for FastAPI
startupProbe:                # startup probe, delays other probes
  httpGet:
    path: /liveness
    port: 8101
  initialDelaySeconds: 5     # wait 5s before first probe
  periodSeconds: 5           # then probe every 5s
  failureThreshold: 5        # 5Ã—5s = 25s extra grace

livenessProbe:               # self check only
  httpGet:
    path: /liveness
    port: 8101
  initialDelaySeconds: 0     # begins after startupProbe finishes
  periodSeconds: 120         # check only once 2 minutes
  timeoutSeconds: 3
  failureThreshold: 3        # needs 3 failures = ~3 min before pod restart

readinessProbe:              # composite checkup, expensive
  httpGet:
    path: /liveness
    port: 8101
  initialDelaySeconds: 0     # begins after startupProbe finishes
  periodSeconds: 30          # check every 20s
  timeoutSeconds: 2
  failureThreshold: 1        # one fail pulls pod from LB pool

ingress:
  enabled: true
  className: traefik
  host: public.docker.r7g.org
  path: /
  pathType: Prefix
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
  tls: []

resources: {}
autoscaling:
  enabled: false

serviceAccount:
  create: false
  name: default